<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="utf-8">
	<title>导航</title>
	<link rel="stylesheet" type="text/css" href="./style.css">
</head>
<body>
	<header></header>
	<main >	
		<div class="wrapper" id="rng" ></div>
	</main>
	<footer></footer>
	<script type="text/javascript">
		keys={
			'0':['q','w','e','r','t','y','u','i','o','p'],
			'1':['a','s','d','f','g','h','j','k','l'],
			'2':['z','x','c','v','b','n','m'],
			length:3
	
		}
		hash={
			'q':'qq.com',
			'w':'weibo.com',
			'e':'eve.com',	
			'b':'bilibili.com',
			'i':'iqiyi.com',
			'z':'zhihu.com'
		}
		//取出localStorage中的zzz对应的hash
		hashInLocalStorage= JSON.parse(localStorage.getItem('zzz') || 'null')
		if(hashInLocalStorage){
			hash=hashInLocalStorage
		}

		//遍历Keys，生成kbd标签
		index=0
		while(index<keys['length']){
			div1=document.createElement('div') /*创建一个div*/
			rng.appendChild(div1) /*把div放入ID为rng的元素中*/
			row=keys[index]

			index2=0
			while(index2<row['length']){
				kbd=document.createElement('kbd')  /*创建一个kdb*/
				kbd.textContent=row[index2]
				buttonX=document.createElement('button')
				buttonX.textContent='编辑'
				buttonX.id=row[index2] //给按钮一个标记
				buttonX.onclick=function(xzkjcnxlkcjlk){
					key=xzkjcnxlkcjlk.target.id  //获取用户点击按钮所对应的key
					a=prompt('请输入一个网址')  //弹出一个输入框
					hash[key]=a //修改key所对应的内容,hash变更
					localStorage.setItem('zzz', JSON.stringify(hash)) //只要hash改变就存入
					console.log(hash)
				}

				kbd.appendChild(buttonX)
				div1.appendChild(kbd)  /*把kbd放入div1中*/
				index2=index2+1
			}
			
			index=index+1
		}


		/*监听键盘事件*/
		document.onkeypress=function(xzkjcnxlkcjlk) {
			// body...
			key=xzkjcnxlkcjlk['key']  //获取用户按的键
			website=hash[key]  //用户按键对应的网站
			//location.href='http://'+website  //把当前地址换成新的地址
			window.open('http://'+website,'-blank') //在新窗口打开网址
		}
	</script>
</body>
